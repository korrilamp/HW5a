<!doctype html>
<html>
  <head>
	<meta charset="utf-8">
	<title>HTML 5 Doc</title>
  </head>
  <body>
	<form method="get">
		First Number:<input type="text" name="entryOne"><br>
		Second Number:<input type="text" name="entryTwo"><br>
		Submit to see results! <span id="userInput"></span><br />
		<input type="button" value="Submit" onClick="writeValues(form);isAmicable(form)">
	</form>
	<p id="demo"></p>
	<script language="javascript">
		window.writeValues = function(form){
			var first = form.entryOne.value;
  			var second = form.entryTwo.value;
			document.getElementById('userInput').innerHTML = first + ", " + second;
		}
			
		function isAmicable(form){
			var first = form.entryOne.value;
  			var second = form.entryTwo.value;
  			var factorsA = new Array();
  			var factorsB = new Array();
  			factorsA = getFactors(first);
  			factorsB = getFactors(second);
			document.write("Factors of " + first + " are: ");
			showFactors(factorsA);
			document.write("...Factors of " + second + " are: ");
			showFactors(factorsB);
			document.write(" ");
  			if ((addFactors(factorsA)) == second){
  				if((addFactors(factorsB)) == first){
  					document.write("...The numbers are amicable!");
  				}
  				else if((addFactors(factorsB)) != first){
  					document.write("...The numbers are NOT amicable.");
  				}
  			}
  			else{
  				document.write("...The numbers are NOT amicable.");
  			}
		}

		function isFactor(num,testNum){
			if(num%testNum==0){
				return true;
			}
			else{
				return false;
			}
		}
		//Test:
		//document.write(isFactor(10,5));
		//document.write(isFactor(50,5));
		//document.write(isFactor(43,5));
		function showFactors(numArray){
			for(var i in numArray){
				document.write((numArray[i])+", ");
				}
		}
		//Test:
		//var a = [1,2,3,4];
		//showFactors(a);
		//var sum=0;
		function addFactors(numArray){
			var sum=0;
			for(i=0;i<numArray.length;i++){
				sum += numArray[i];
			}
			return sum;
		}
		//Test:
		//var a = [1,2,3,5];
		//document.write(addFactors(a));
		function getFactors(num){
			var factorArray = new Array();
			var arraySlot = 0;
			for(i=0;i<num;i++){
				if(isFactor(num,i)){
					factorArray[arraySlot] = i;
					arraySlot++;
				}
			}
			return factorArray;
		}
		//Test:
		//var a = 36;
		//document.write(getFactors(a));

	</script>
   </body>
</html>
